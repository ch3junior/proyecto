-- 01_lookups.sql
CREATE DATABASE IF NOT EXISTS rrhh_permisos;
USE rrhh_permisos;

-- Departamentos
CREATE TABLE IF NOT EXISTS departamentos (
    departamento_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL UNIQUE
);

-- Cargos
CREATE TABLE IF NOT EXISTS cargos (
    cargo_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(150) NOT NULL UNIQUE
);

-- Tipos de permiso
CREATE TABLE IF NOT EXISTS tipos_permiso (
    tipo_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL UNIQUE,
    descripcion VARCHAR(255)
);

-- Estados de permiso (lookup para evitar ENUM)
CREATE TABLE IF NOT EXISTS estados_permiso (
    estado_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL UNIQUE
);

-- Datos iniciales
INSERT IGNORE INTO departamentos (nombre) VALUES
('Sistemas'), ('RRHH'), ('Marketing'), ('Administración');

INSERT IGNORE INTO cargos (nombre) VALUES
('Analista'), ('Supervisor'), ('Gerente'), ('Asistente');

INSERT IGNORE INTO tipos_permiso (nombre, descripcion) VALUES
('vacacion', 'Días legales remunerados'),
('permiso', 'Permiso corto (excusa, gestión)'),
('reposo', 'Reposo médico');

INSERT IGNORE INTO estados_permiso (nombre) VALUES
('pendiente'), ('aprobado'), ('rechazado'), ('cancelado');
